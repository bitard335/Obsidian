![Почему в модулях переменные верхнего уровня не являются глобальными?](https://youtu.be/R76_xPjzUd8?t=554)

#### Ответ

![[Pasted image 20230704140046.png|600]]

В Node.js переменные верхнего уровня в модуле не являются глобальными, потому что каждый модуль имеет свой собственный контекст выполнения. Это означает, что переменные, объявленные в модуле, не могут быть доступны в других модулях без явного экспорта.

Когда модуль загружается Node.js, он создает новый контекст выполнения для этого модуля. В этом контексте выполнения определены все переменные и функции, объявленные в модуле, а также все импортированные зависимости. Этот контекст выполнения является локальным для модуля и не может быть доступен из других модулей.

Чтобы сделать переменные доступными из других модулей, нужно явно экспортировать их из модуля. Это можно сделать с помощью ключевых слов `module.exports` или `exports`.

Пример:

```
// module1.js
const message = 'Hello, world!';

module.exports = message;
```

Здесь мы экспортируем переменную `message` с помощью `module.exports`. Теперь мы можем импортировать эту переменную в другом модуле:

```
// module2.js
const message = require('./module1');

console.log(message); // 'Hello, world!'
```

Здесь мы импортируем переменную `message` из модуля `module1` с помощью `require`. `message` будет доступен в модуле `module2`, потому что мы явно экспортировали его из модуля `module1`.

Использование явного экспорта и импорта позволяет легко управлять зависимостями между модулями и предотвращает конфликты имен переменных между разными модулями.

___
#node-js 

___

### [[006 Node.js|Назад]]

